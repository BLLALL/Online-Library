-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Dec 26, 2023 at 06:52 PM
-- Server version: 10.4.28-MariaDB
-- PHP Version: 8.2.4

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `bookstore`
--

-- --------------------------------------------------------

--
-- Table structure for table `admin`
--

CREATE TABLE `admin` (
  `id` int(11) NOT NULL,
  `username` varchar(255) NOT NULL,
  `email` varchar(255) NOT NULL,
  `password` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `admin`
--

INSERT INTO `admin` (`id`, `username`, `email`, `password`) VALUES
(3, 'asd', 'bamer777@admin.com', 'asdarqwergvc');

-- --------------------------------------------------------

--
-- Table structure for table `author`
--

CREATE TABLE `author` (
  `id` int(11) NOT NULL,
  `name` varchar(30) NOT NULL,
  `img_dir` varchar(70) NOT NULL,
  `description` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `author`
--

INSERT INTO `author` (`id`, `name`, `img_dir`, `description`) VALUES
(1, 'أحمد شوقي', 'احمد شوقي.jpg', 'احمد شوقي علي أحمد شوقي بك (16 أكتوبر 1868 - 14 أكتوبر 1932)، كاتب وشاعر مصري يعد أعظم شعراء العربية في العصور الحديثة، يلقب بـ «أمير الشعراء».'),
(2, 'طه حسين', 'طه حسين.jpg', 'طٰهٰ حسين (1306 هـ / 15 نوفمبر 1889 - 1393 هـ / 28 أكتوبر 1973م)، أديب وناقد مصري، لُقّب بعميد الأدب العربي. غيّر الرواية العربية، مبدع السيرة الذاتية في كتابه «الأيام» الذي نشر عام 1929. يعتبر من أبرز الشخصيات في الحركة العربية الأدبية الحديثة. لا تزال أفكار ومواقف طه حسين تثير الجدل حتى اليوم.\r\n\r\nدرس في الأزهر، ثم التحق بالجامعة الأهلية حين افتتحت عام 1908، وحصل على الدكتوراه عام 1914 ثم ابتعث إلى فرنسا ليكمل الدراسة. عاد إلى مصر ليعمل أستاذا للتاريخ ثم أستاذا للغة العربية. عمل عميدا لكلية الآداب، ثم مديرا لجامعة الإسكندرية، ثم وزيرا للمعارف. من أشهر كتبه: في الشعر الجاهلي (1926) ومستقبل الثقافة في مصر (1938).'),
(5, 'آلان بومان', 'آلان بومان.jpeg', 'ألان بومان (بالإنجليزية: Alan Bowman)‏ هو باحث في تاريخ العصور الكلاسيكية  ‏ بريطاني، ولد في 23 مايو 1944 في مانشستر في المملكة المتحدة.'),
(6, 'فيودور ديستوفيسكي', 'ديستوفسكي.jpg', 'فِيُودُور مِيخَائيلُوفِتْش دُوسْتُويَفِسْكِي (بالروسية: Фёдор Миха́йлович Достое́вский) هو روائي وكاتب قصص قصيرة وصحفي وفيلسوف روسي ولد في مُسكُو يوم 11 نوفمبر 1821 وتوفي في سنت بُطرُسبُرج يوم 9 فبراير 1881. وهو واحدٌ من أشهر الكُتاب والمؤلفين حول العالم. رواياته تحوي فهما عميقا للنفس البشرية كما تقدم تحليلا ثاقبا للحالة السياسية والاجتماعية والروحية لروسيا في القرن التاسع عشر، وتتعامل مع مجموعة متنوعة من المواضيع الفلسفية والدينية.'),
(7, 'ابراهيم السكران', 'ابراهيم السكران.jpg', 'إبراهيم السكران (ولد في 5 ربيع الآخر 1396 هـ الموافق 4 أبريل 1976م) باحث ومُفكِّر إسلامي، مهتمٌ بمنهج الفقه الإسلامي وبالمذاهب العقدية والفكرية، له العديد من المؤلفات والأبحاث والمقالات المنشورة وله عدد من الكتب المطبوعة.'),
(9, 'صفا لطفي الالوسي', 'ليس له صورة.png', 'اني تدريسية في كلية الفنون الجميلة قسم الفنون التشكيلية من مواليد 1973 حاصلة على شهادة البكالوريوس رسم ( الأولى مع مرتبة الشرف ) كلية التربية الفنية ــ جامعة بابل 1994 وشهادة ماجستير تربية فنية ــ كلية التربية الفنية ــ جامعة بابل 1999 وشهادة دكتوراه فنون تشكيلية / جماليات التصميم / كلية الفنون الجميلة جامعة بابل / 2006\r\n\r\nوشغلت منصب رئاسة قسم الفنون التطبيقية لست سنوات /حاليا أستاذ في كلية الفنون الجميلة ــ جامعة بابل\r\n\r\nوعضو نقابة الفنانين العراقيين\r\n\r\nالشهادات:\r\n\r\nشهادة عن دورة طرائق التدريس / جامعة بابل ( الخامسة على الدورة ) 2002\r\nشهادة عن الدورة التأهيلية لتعليم الحاسوب / جامعة بابل 2002\r\nشهادة بنظام إدارة الجودة الشاملة في التعليم الجامعي وبرنامج التدقيق الداخلي وفق المواصفة العالمية / جامعة بابل\r\nشهادة من جامعة بيليغرود للثقافة والفنون الروسية( ضمن برنامج تدريب الملاكات التدريسية العراقية ــ 2012\r\nشهادة من أكاديمية أكسفورد للتدريب والاستشارات / 2014\r\n'),
(10, 'ابن الجوزي', 'ليس له صورة.png', 'ن الجوزي، هو أبو الفرج عبد الرحمن بن أبي الحسن علي بن محمد القرشي التيمي البكري. فقيه حنبلي محدث ومؤرخ ومتكلم (510هـ/1116م - 12 رمضان 597 هـ/ 1201م) ولد وتوفي في بغداد. حظي بشهرة واسعة، ومكانة كبيرة في الخطابة والوعظ والتصنيف، كما برز في كثير من العلوم والفنون. يعود نسبه إلى محمد بن أبي بكر الصديق.\r\n\r\nعرف بابن الجوزي لشجرة جوز كانت في داره ببلدة واسط، ولم تكن بالبلدة شجرة جوز سواها، وقيل: نسبة إلى «فرضة الجوز» وهي مرفأ نهر البصرة.'),
(12, 'احمد المنياوي', 'ليس له صورة.png', 'هذا المؤلف ليس له وصف.'),
(14, 'توماس ميرتون', 'توماس ميرتون.jpg', 'توماس ميرتون أوكسو (بالإنجليزية: Thomas Merton)‏ (31 يناير 1915 – 10 ديسمبر 1968) كان راهبًا أمريكيًا، ولاهوتيًا، ومتصوفًا مسيحيًا، وشاعرًا، وناشطًا اجتماعيًا، وباحثًا في مقارنة الأديان. عُيّن في 26 مايو عام 1949 رئيسًا للكهنة، ولُقّب بـ«الأب لويس».\r\n\r\nكتب ميرتون أكثر من 50 كتابًا خلال 27 عامًا، يتناول معظمها مواضيع مرتبطة بالروحانية والعدالة الاجتماعية والمسيحية السلمية، بالإضافة إلى عشرات المقالات والمراجعات. لاقى كتاب سيرته الذاتية الجبل ذو الطوابق السبعة رواجًا كبيرًا إذ حقق أفضل المبيعات عام 1948، وأُدرج ضمن قائمة المراجعة الوطنية لأفضل 100 كتاب غير روائي.\r\n\r\nكان ميرتون مؤيدًا بشدة للتفاهم بين الأديان، ورائدًا في الحوار مع الشخصيات الروحانية الآسيوية البارزة، مثل: الدالاي لاما، والكاتب الياباني دي. سوزوكي، والراهب البوذي التايلاندي بودهاداسا، والراهب الفيتنامي ثيت نات هانه الذي شاركه في تأليف كتابٍ عن الزن والكونفوشية والطاوية.'),
(15, 'الحسين بن احمد الزوزني', 'ليس له صورة.png', 'أبو عبد الله الحسين بن أحمد بن الحسين الزوزني (…- 486 هـ = …- 1093 م)، هو كاتب ولغوي ونحوي وفقيه وشاعر فارسي عاش في القرن الخامس الهجري.');

-- --------------------------------------------------------

--
-- Table structure for table `book`
--

CREATE TABLE `book` (
  `id` int(11) NOT NULL,
  `title` varchar(100) DEFAULT NULL,
  `descriptions` text NOT NULL,
  `author_name` varchar(25) NOT NULL,
  `book_dir` varchar(30) NOT NULL,
  `price` varchar(30) NOT NULL,
  `img_dir` text NOT NULL,
  `admin_id` int(11) NOT NULL,
  `author_id` int(11) NOT NULL,
  `category_id` int(11) NOT NULL,
  `publishing_date` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `book`
--

INSERT INTO `book` (`id`, `title`, `descriptions`, `author_name`, `book_dir`, `price`, `img_dir`, `admin_id`, `author_id`, `category_id`, `publishing_date`) VALUES
(2, 'الشوقيات', 'أربعة وستون عاماً، تلك هي المساحة الزمنية التي منحها الله لأحمد شوقي على سطح هذه الأرض (1868-1932)، ولكنه في هذه المساحة المحدودة ذاع شعره في الدنيا، وشغل الناس، وملأ جميع الأسماع، وأشجى كثيراً من القلوب.و كما شغل الناس في حياة صاحبه شغلهم بعد وفاته، ولا يزال حتى الآن يشغل الرواد، وسيظل مدخلاً يتوصل به إلى خصائص الشعر العربي في عتقه وأصالته، ومَعْلماً بارزاً يدل على مستوى وأبلغه الشعر العربي في عصر النهضة. ', 'أحمد شوقي', 'الشوقيات.pdf', 'مجاني', 'الشوقيات.jpg', 3, 1, 5, '2023-12-11 18:40:08'),
(4, 'مصر بعد الفراعنة', 'قد تبدو الحقيقة اليونانية الرومانية وكانها تفتقر للعظمة والرومانسية التى تمتلكها دثار الفراعنة ، إلا أنه مما لا شك فيه أنه فى خلال الألف عام التى بدات بغزو الإسكندر الأكبر وانتهت بالفتح العربى كان لمصر أكبر وأهم إسهاماتها الحضارية فى العالم القديم ، وكذلك فقد تشربت بدورها تأثيراتها الهامة فى مختلف المجالات واستفادت منها.\r\nوتميزت هذه الحقبة - بحسب مقاييس العالم القديم - بجودة توثيقها على نحو استثنائى ، حيث يستطيع المؤرخ أن يستفيد من مجموعة كبيرة ومتنوعة من المراجع والمصادر وكنز ضخم من المادة العلمية ما بين كتابات المؤرخين والجغرافيين والشخصيات الأدبية الكلاسيكية والمعالم الأثرية.', 'آلان بومان', '', '120', 'مصر بعد الفراعنة.jpg', 3, 5, 11, '2023-10-17 10:27:16'),
(6, 'جمهورية أفلاطون', 'يزخر تاريخ البشرية بعدد من الفلاسة الذين أثروا هذا العلم بأفكار جديدة، وأطروحات مهمة، كسقراط وأفلاطون وأرسطو، ولكن لم ينل من الفلاسفة مكانة وشهرة مثلما كان الحال مع أفلاطون.. والسبب هو محاوراته التاريخية التي ضمنها كتابه (الجمهورية)، وكانت عبارة عن دراما فلسفية حقيقية وضع فيها أفكاره حول (المدينة الفاضلة) على لسان الشخصية الرئيسية فيها (معلمه سقراط) الذي ثم إعدامه أمام عينيه، كأول رجل في التاريخ يعدم بسبب أفكاره.\r\nوكانت هذه المحاورات تعتمد على الحوار في مكان معين وزمان معين، وتدور بين سقراط وبين شخصيات معروفة يرسمها أفلاطون فى صور حية، وقد اعتمد على طريقة الحوار لأنه يرى- كما يرى أستاذه- أن الحوار والمنهج الجدلي هو طريق اكتشاف الحقيقة، وكانت هذه المحاورات تقرأ بصوت عالي ولا تمثل، وكان السامعون يجدون فيها لذة، ذلك لأنها ضرب من المأساة الفكرية تجد فيها الصراع بين الشخصيات وبين الأفكار، لذلك هي تحتاج إلى حكام عدول يفصلون في القضايا الفكرية، وترجع براعة أفلاطون إلى أنه أشرك القارئ أو السامع معه في هذه المحاورات، فالجمهورية ركن هام فيها.\r\nوهكذا كانت (المدينة الفاضلة) أو (جمهورية أفلاطون) الكتاب الذي نقدمه هنا عبارة عن تصور تخيلي لما ينبغي أن تكون عليه مدينة أرضية حقيقية. وهي كما يرى أفلاطون عبارة عن وضعية مثالية لدولة المدينة.', 'أحمد المنياوي', 'جمهورية أفلاطون.pdf', 'مجاني', 'جمهورية أفلاطون.jpg', 3, 12, 3, '2022-02-10 01:44:51'),
(7, 'دراسات في الفنون البصرية', 'مما لا يخفى على أحد أن الفنون البصرية هي إحدى وسائل التواصل الإنساني، وتعد منهلاً لإنتاج المعنى في الثقافة المعاصرة، من خلال بث رسائل تحمل مضامين معينة للمتلقي، تبث عبر وسائل متعددة تتمثل بالصور المرئية، وهي تحيل المتلقي إلى طريقة خاصة في تمثل الأشياء ومكنوناتها، وبذلك فهي المنجز العقلي القابل للفهم في موضوعات العالم وأحداثه.\r\n\r\nومن الجدير بالذكر هو أن الصور هي عبارة عن بناءات شاملة لوقائع مشحونة بحياة مستقلة.\r\n\r\nالكتاب يسلط الضوء على مصطلح الفنون البصرية الذي ذاع صيته في السنوات الأخيرة في أماكن متعددة من العالم، وما يرتبط به من دراسات فكرية تؤسس له أو ترتبط به.\r\n\r\nثم إن ثمة فنون حديثة وجدت مساحتها في الوسط التشكيلي هذه الفنون المستحدثة تمكننا من القول أن الفنون البصرية أضافت للفن وسائل جديدة، عملت على تحقيق غاياته الجمالية والفكرية، وهي مدفوعة بالتجريب نحو خلق جديد بلغة مبتدعة غير مألوفة، فعمدت إلى رفع درجة السرور البصري مضيفة عنصر الترقب والتشويق وأحدثت نوعاً من الإثارة والغرابة والدهشة.\r\n\r\nوبناءاً على ذلك صار المنجز الفني البصري ضمن برواز فلسفي يرعى التأثير الجمالي، عموماً سيكون المنجز الفني وفقاً لذلك نابع من أحد فروع الفنون البصرية ليكون أداة تأثير بيد الفنان، يؤثر من خلالها على المتلقي كنوع من المناورة مع وعيه، مستهدفاً المتلقي من خلال طروحاته.', 'صفا لطفي الالوسي', '', '100', 'دراسات في الفنون البصرية.jpg', 3, 9, 8, '2023-06-17 00:47:34'),
(8, 'تلبيس إبليس', 'في هذا الكتاب يحاول ابن الجوزي كشف انحرافات كثير من الناس بسبب بعدهم عن هدي الأنبياء و جهلهم بالدين ، و تتبع ما شاع في عصره ( وهو يشابه واقعنا الحالي ) من البدع المضلة و الأفكار الدخيلة و السلوك الجانح وذلك لتحذير الناس منها. الكتاب مهم للوصول للعلم الحقيقي و الإصلاح و الصراط السوي و العقائد التي لا يشوبها شبهة و لا تخيلات وهمية.\n\nوعزا ابن الجوزي جلَّ أسباب انتشار الضلال في الدنيا و أسباب تسرب هذه الجهالات لنفوس البشر إلى إبليس و لبسه و دسه و تدليسه. بيَّن الشبه التي لبّس إبليس بها على أصناف الناس و ذلك بالبحث و التنقيب و الانتقاد مع كشف صحيح المسائل و فاسدها مستنداً إلى الأدلة النقلية و العقلية و الأمثلة التي يشهد لها الحس و الوجدان .\nوهناك عدة اجتهادات لتحقيق هذا الكتاب وتنقيحه مما فيه من الأسانيد التي لا تثبت والقصص غير الصحيحة   ', 'ابن الجوزي', 'تلبيس إبليس.pdf', 'مجاني', 'تلبيس إبليس.jpg', 3, 10, 10, '2023-08-31 16:47:34'),
(9, 'شرح المعلقات السبع', 'يعد هذا الشرح موجزا للمعلقات السبع، فهو يقتصر على ذكر معاني الكلمات ومعنى البيت كما ذكرنا ولم يتناول تحليل المعلقات وابراز الصور البيانية في أبياتها، مما دفع علماء اللغة إلى ترجمة هذا الكتاب إلى عدد من اللغات في سبيل تعريف غير العرب بالمعلقات.', 'الحسين بن أحمد', 'شرح المعلقات السبع.pdf', 'مجاني', 'شرح المعلقات السبع.jpg', 3, 15, 5, '2023-12-23 16:52:45'),
(11, 'مقدمة في التصوف المسيحي', ' الولايات المتحددة الأميركية عام 2008، ترجمه كرم عباس إلى العربية حديثاً وصدر عن المركز القومي المصري للترجمة)، من مسودات محاضرات ألقاها الراهب الكاثوليكي البنديكتي توماس ميرتون خلال دورة تعليمية في مجال اللاهوت الصوفي. وتضمنت تلك الدورة 22 محاضرة، بواقع محاضرتين في الأسبوع، من 1 مارس (آذار) إلى 15 مايو (أيار) 1961، وتلاها عدد آخر من المحاضرات في صيف العام نفسه. وحرر باتريك أوكونيل تلك المخطوطات. أضاف عدداً ضخماً من الحواشي بجانب مقدمة تفصيلية. وميرتون هو راهب كاثوليكي بندكتي ولد في عام 1915 وقضى طفولته ما بين فرنسا وإيطاليا وإنجلترا، ثم انتقل إلى الولايات المتحدة الأميركية، ويعد أحد أهم الكتاب الروحيين في القرن العشرين، علماً أنه حصل على درجة الماجستير من جامعة كولومبيا. وتعود شهرته في المقام الأول إلى انخراطه في دراسات مقارنة الأديان، فهو أحد الرواد المعاصرين في فتح مساحات للحوار الديني بين المسيحية الغربية من جانب والتراث الروحي الشرقي من جانب آخر.', 'توماس ميرتون', '', '160', 'مقدمة في التصوف المسيحي.jpg', 3, 14, 7, '2023-12-17 17:14:12'),
(13, 'الأيام', 'كتاب \"الأيام\" أشهر من أن يعرّف، وهو بجانب قيمته الأدبية الرفيعة باعتباره طرازاً فريداً من السير الذاتية لشخصية أدبيه قل أن يجود الزمان بمثلها، وصدق وعذوبة وطلاوة أسلوب، وهى مزايا يكاد يستأثر بها، فإن هذا العمل يمهد لإحاطة القارئ بدنيا طه حسين والروافد الفكرية والثقافية التى شكلت مذهبه ومنهجه.\r\n', 'طه حسين', 'الأيام.pdf', 'مجاني', 'الأيام.jpg', 3, 2, 6, '2023-10-29 17:19:21'),
(15, 'الجريمة والعقاب', '\"الجريمة والعقاب\", رواية مبنية على أساس الصراع الداخلي عند الإنسان وخاصةً الرغبة في التعبير عن النفس وإثباتها في مواجهة الأخلاقيات والقوانين التي أوجدها البشر مما يجعلنا نحس بقلق مضن ونتساءل عن العدالة في هذا العالم وفي الوقت ذاته نتساءل عما إذا كان يحق لنا الإقتصاص من العدالة ومن الأخلاقيات.', 'ديستوفيسكي', 'الجريمة و العقاب.pdf', 'مجاني', 'الجريمة والعقاب.jpg', 3, 6, 2, '2023-12-01 17:23:29'),
(19, 'الطريق إلى القرآن', 'كتاب الطريق إلى القرآن مقسم إلى مدخل وعشرة فصول. يتحدث الكتاب عن ضرورة التمسك بكتاب الله والعودة إليه، وتدبره والتأمل في معانيه وليس فقط قرائته، وذلك لأنه لم يترك شيئًا في حياتنا ومعاملاتنا إلا وتحدث عنها', 'ابراهيم السكران', 'الطريق إلى القرآن.pdf', 'مجاني', 'الطريق إالى القرآن.jpg', 3, 7, 10, '2023-12-10 17:57:18');

-- --------------------------------------------------------

--
-- Table structure for table `category`
--

CREATE TABLE `category` (
  `id` int(11) NOT NULL,
  `name` varchar(30) NOT NULL,
  `img_dir` varchar(25) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `category`
--

INSERT INTO `category` (`id`, `name`, `img_dir`) VALUES
(2, 'قسم الروايات', 'روايات.jpg'),
(3, 'قسم الفلسفة', 'فلسفه.jpg'),
(4, 'قسم التنميه البشرية', 'تنميه بشريه.jpg'),
(5, 'قسم الادب العربي', 'الادب العربي.jpg'),
(6, 'قسم السيرة الذاتية', 'سيرة ذاتيه .jpg'),
(7, 'قسم مقارنة الاديان', 'مقارنه اديان.jpg'),
(8, 'قسم الفنون', 'فنون.jpg'),
(9, 'قسم الكتب العلمية', 'علميه.jpg'),
(10, 'قسم الكتب الدينية', 'ديني.jpg'),
(11, 'قسم التاريخ', 'تاريخ.jpg'),
(12, 'قسم علم النفس', 'علم النفس.jpeg');

-- --------------------------------------------------------

--
-- Table structure for table `purchases`
--

CREATE TABLE `purchases` (
  `op_id` int(11) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `book_id` int(11) DEFAULT NULL,
  `purchase_date` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `user`
--

CREATE TABLE `user` (
  `id` int(11) NOT NULL,
  `username` varchar(255) NOT NULL,
  `email` varchar(255) NOT NULL,
  `phone` int(11) NOT NULL,
  `password` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `user`
--

INSERT INTO `user` (`id`, `username`, `email`, `phone`, `password`) VALUES
(8, 'BELAL', 'bamer8353@gmail.com', 1021261586, 'adsasd'),
(11, 'salah', 'ssalah@gmail.com', 1234567898, '1qa2ws');

-- --------------------------------------------------------

--
-- Table structure for table `user_fbooks`
--

CREATE TABLE `user_fbooks` (
  `user_id` int(11) NOT NULL,
  `book_id` int(11) NOT NULL,
  `date` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `admin`
--
ALTER TABLE `admin`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `author`
--
ALTER TABLE `author`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `book`
--
ALTER TABLE `book`
  ADD PRIMARY KEY (`id`),
  ADD KEY `Foreign Key` (`admin_id`),
  ADD KEY `fk_author` (`author_id`),
  ADD KEY `fk_category` (`category_id`);

--
-- Indexes for table `category`
--
ALTER TABLE `category`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `purchases`
--
ALTER TABLE `purchases`
  ADD PRIMARY KEY (`op_id`),
  ADD KEY `user_id` (`user_id`),
  ADD KEY `book_id` (`book_id`);

--
-- Indexes for table `user`
--
ALTER TABLE `user`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `user_fbooks`
--
ALTER TABLE `user_fbooks`
  ADD PRIMARY KEY (`user_id`,`book_id`),
  ADD KEY `fk_book` (`book_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `admin`
--
ALTER TABLE `admin`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT for table `author`
--
ALTER TABLE `author`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=48;

--
-- AUTO_INCREMENT for table `book`
--
ALTER TABLE `book`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=21;

--
-- AUTO_INCREMENT for table `category`
--
ALTER TABLE `category`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- AUTO_INCREMENT for table `purchases`
--
ALTER TABLE `purchases`
  MODIFY `op_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `user`
--
ALTER TABLE `user`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=12;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `book`
--
ALTER TABLE `book`
  ADD CONSTRAINT `Foreign Key` FOREIGN KEY (`admin_id`) REFERENCES `admin` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  ADD CONSTRAINT `fk_author` FOREIGN KEY (`author_id`) REFERENCES `author` (`id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `fk_category` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`) ON DELETE CASCADE ON UPDATE NO ACTION;

--
-- Constraints for table `purchases`
--
ALTER TABLE `purchases`
  ADD CONSTRAINT `purchases_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`),
  ADD CONSTRAINT `purchases_ibfk_2` FOREIGN KEY (`book_id`) REFERENCES `book` (`id`);

--
-- Constraints for table `user_fbooks`
--
ALTER TABLE `user_fbooks`
  ADD CONSTRAINT `fk_book` FOREIGN KEY (`book_id`) REFERENCES `book` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  ADD CONSTRAINT `fk_user` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
